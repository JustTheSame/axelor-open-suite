<?xml version="1.0" encoding="UTF-8"?>
<csv-inputs xmlns="http://axelor.com/xml/ns/data-import"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/data-import http://axelor.com/xml/ns/data-import/data-import_5.2.xsd">
  
	<input file="crm_crmBatch.csv" separator=";" type="com.axelor.apps.crm.db.CrmBatch" search="self.code = :code"/>
		
	<input file="crm_lead.csv" separator=";" type="com.axelor.apps.crm.db.Lead" search="self.importId = :importId" call="com.axelor.csv.script.ImportLead:saveLead">
			<bind column="description" to="description"/>
			<bind to="jobTitleFunction" search="self.name = :jobTitle">
				<bind to="name" column="jobTitle"/>
			</bind>
			<bind to="emailAddress" search="self.address = :email">
				<bind to="address" column="email" />
			</bind>
			<bind to="contactDate" eval="call:com.axelor.csv.script.ImportDateTime:importDate(contactDate)" column="contactDate"/>
			<bind to="createdOn" eval="call:com.axelor.csv.script.ImportDateTime:importDate(contactDate)" column="contactDate"/>
			<bind to="user" search="self.importId = :userImportId" update="true"/>
      <bind to="createdBy" eval="call:com.axelor.csv.script.ImportLead:importCreatedBy(userImportId)"/>
	</input>
	
	<input file="crm_eventCategory.csv" separator=";" type="com.axelor.apps.crm.db.EventCategory" search="self.importId = :importId"/>

	<input file="crm_event.csv" separator=";" type="com.axelor.apps.crm.db.Event" search="self.importId = :importId">
		<bind to="startDateTime" eval="call:com.axelor.csv.script.ImportDateTime:importDateTime(startDateTimeNow)" column="startDateTimeNow"/>
		<bind to="endDateTime" eval="call:com.axelor.csv.script.ImportDateTime:importDateTime(endDateTimeNow)" column="endDateTimeNow" />
	</input>
	
	<input file="crm_event.csv" separator=";" type="com.axelor.apps.crm.db.Event" search="self.importId = :importId">
		<bind column="subject" to="subjectTeam"/>
	</input>
	
	<input file="crm_opportunityType.csv" separator=";" type="com.axelor.apps.crm.db.OpportunityType" search="self.code = :code"/>
	
	<input file="crm_opportunity.csv" separator=";" type="com.axelor.apps.crm.db.Opportunity" search="self.importId = :importId">
		<bind to="expectedCloseDate" eval="call:com.axelor.csv.script.ImportDateTime:importDate(expectedCloseDate)" column="expectedCloseDate"/>
		<bind to="user" search="self.importId = :userImportId" update="true"/>
		<bind to="createdBy" eval="call:com.axelor.csv.script.ImportLead:importCreatedBy(userImportId)"/>
	</input>
	
</csv-inputs>